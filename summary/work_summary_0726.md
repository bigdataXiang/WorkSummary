#一、工作时间
2016年7月18日——2016年7月26日
#二、工作内容与总结
##（一）房地产研究
###1.实现房地产可视化中网格的合并与分解
+ 内容：
>通过定义不同网页地图不同zoom比例下网格的分辨率的大小，实现地图在不同的缩放比率下快速地
>取消和生成地理单元格网。
+ 总结:
>这部分内容刚开始在做的时候走了一些弯路。起初的设计思路是在刚打开网页的时候，能有基本的
>网格底图。然后再通过用户的缩放生成新的分辨率下的网格。在做这一部分的时候，遇到一个问题，
>在生成新的网格的时候必须删掉旧的网格。参考leaflet的方法的时候，还不确定具体该用哪一个
>方法实现。后面试了用removeLayer（）的办法，用for循环的方式逐个把之前图层的网格删掉。
>刚开始将网格存到一个数组中，然后采用java中的for（i:array）方式来遍历removeLayer（i）
>删除网格retangle,调试的时候却发现网格并没有删除。后面改用removeLayer（array[i]）能顺
>利将网格删除了。接下来就是测试不同缩放比率下网格的生成问题。后面的调试的时候才发现，其实
>没必要有移除网格这一步的。因为直接实时捕捉不同的缩放比率，然后在对应的缩放比率下生成不同
>格网即可。但是做到这一步的时候又遇到了新的问题。如果每缩放一次就要向mongo数据库请求一次，
>然后再计算出每个格网的值再返回给前端，这个过程是非常冗长的，甚至要花几分钟到十多分钟，这
>说明这种在线实时计算生成网格的方式是不可取的。于是我又把每个zoom下对应的网格的json数据先
>在后端生成，然后放置于静态文件中，前端直接调用静态文件即可。这种当时能很快地实现每个zoom
>下网格的生成，因为避免了在线计算这一步。但是灵活性有欠缺。毕竟是事前就计算好了的静态文件，
>在线也不能修改了。

###2.试验房地产数据的标准化
+ 内容：
>在不考虑朝向、楼层等情况下，实现数据的粗标准化。
+ 总结：数据标准化这一块在去年的时候就做过。当时也是把每一个因素作为一个权重值放在价格模型中
>然后通过调节模型参数来使得标准化后的价格达到最优的结果。这次在做网格的价格曲线可视化的时候发
>发现，把该格网内近一年的通过标准化的房价数据放进来，然后生成时间——价格曲线图。令人很不安的事
>情。因为并没有出现令人惊喜的价格规律特征。要么就是价格曲线上下浮动太大，要么就是一直价格平平
>的状态，无法拟合成合适的价格曲线模型。这有两方面的问题。要么就是价格本身的问题，没有体现出明
>显的增长或者下跌特征。还有一个方面的问题就是数据的标准化方法不合适。在想到要把楼层、朝向、装
>修等描述性参数量化后加进去的时候，我特意查了这方面的资料。如果直接给不同的描述参数赋予不同的
>值，其实是不科学的。很难权衡到其中的差别。即假设将精装修赋值为4，而中等装修赋值为3，这个赋值
>的依据标准是什么，其实是未知的。因为从装修造价的角度来讲，可能精装修的平均值大概是600每平米，
>而中等装修是400每平米。那么他们之间的相对值应该是6和4。当然，也是可以把每一个描述状态看做是
>参数，然后针对每一个具体的标准化模型再具体调的。那另一个问题又来了，用什么方式把这么多参数全
>都融合在一起才能使得不同的房源之间的相对值并不改变呢？这一步这周还要做具体的研究。

###3.房价曲线的拟合
+ 内容：
>研究利用三次样条曲线插值和最小二乘法的办法来拟合曲线
+ 总结：
>房价的曲线拟合的目的，实际就是根据有线的房价点，来拟合整个时间段上的价格，使得这段时间内的价格曲线
>是连续的光滑的。利用三次样条曲线插值和最小二乘法的办法能够实现曲线的拟合。我从网上搜索到了相关的曲
>线拟合的样例。通过代码调试，可以实现房价的曲线拟合的。这部分工作还没完全做完。这周继续研究。

###4.房价网格的插值
+ 内容：
>模仿栅格数据的插值的办法，对房价格网数据进行插值。
+ 总结：
>如果是展现该一个月以内房价的网格数据，其实整个北京城的数据是相对不多的。这说明很多点的数据在爬虫的时
>候可能没有获取到，也可能是该网格本身是没有数据的。因此，空白网格的数据，是需要通过插值来实现的。在不
>考虑具体的学区、商业条件等的情况下，可以模仿图像像素的插值方法。图像像素插值就是在不生成像素的情况下
>增加图像像素大小的一种方法，在周围像素色彩的基础上用数学公式计算丢失像素的色彩。最近像素插值算法、双
>线性插值算法、双三次插值算法都可以试试。但是如果考虑到不同网格间的具体区位条件可能不一致的情况，还需
>要对网格插值做一个动态的调整。

##（二）全国土壤污染调查技术方案撰写

###1.平台方案与预算撰写
+ 内容：
>撰写全国土壤污染调查技术方案
+ 总结：
>这种技术方案一直不喜欢写。因为本身对技术过程不了解，很容易在写技术方案的时候把逻辑思维搞混乱了。从周四
>拿到材料就开始在冥思苦想如何下手，到周五勉强做完项目的预算。这时间感觉大把地浪费在了这个上面。周六的开
>开会使得整个事情的思路清晰了很多。说简单一点，就是搭建不同的功能平台，实现整个全国污染调查的各个环节的
>功能，并且把各个功能有效地连接起来。但是在实际设计的过程，还是遇到对自平台的功能理解不透彻导致该平台功
>能逻辑很混乱的情况。最终通过删删改改，确定了整个平台的一个连贯性的技术体系。这件事情是典型地属于做完之
>才觉得简单的。在真正写的时候觉得毫无思路，逻辑也不通。写完之后才豁然开朗。所以在以后写这种方案的时候，理
>清思路很重要。


#三、工作计划
##（一）房地产研究阶段性汇报
+ 确定是周五汇报了。周三周四这两天抓紧把ppt和成果完善一下！
##（二）房地产论文撰写
+ 搭建整个论文的平台，从文献综述写起
##（三）房地产价格数据处理
+ 做完ppt再处理这部分数据
##（四）房地产可视化完善
+ 在做ppt的时候完善吧